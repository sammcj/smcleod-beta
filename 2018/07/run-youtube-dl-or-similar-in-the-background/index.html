<!doctype html><html lang=en-au><head><meta name=viewport content="width=device-width"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=7"><link rel=icon href=../../../favicon.png><link rel="shortcut icon" href=../../../favicon.ico type=image/x-icon><link rel=apple-touch-icon href=../../../apple-touch-icon.png><link rel=icon href=../../../logo.svg type=image/svg+xml><title>Run youtube-dl (or similar) in the background &ndash;
smcleod.net</title><link href=../../../symbols-nerd-font/symbols-nerd-font.css rel=stylesheet><link href=../../../jetbrains-mono/jetbrains-mono.css rel=stylesheet><link type=text/css rel=stylesheet href=https://smcleod.net/css/styles.66349763506489d57ba916836ca1c45e0ac3f667fe4f2a152cf7619a81ad51a060782c6231e1a885e311c2fd9fdc72e95b340fbd9530152e367d478fe56978c5.css integrity="sha512-ZjSXY1BkidV7qRaDbKHEXgrD9mf+TyoVLPdhmoGtUaBgeCxiMeGoheMRwv2f3HLpWzQPvZUwFS42fUeP5Wl4xQ=="><link href=../../../atkinson-hyperlegible/atkinson-hyperlegible.css rel=stylesheet><meta name=author content="Sam McLeod"><meta name=keywords content="software,tech"><meta name=description content=" or function to use <a href=&#34;https://rg3.github.io/youtube-dl/&#34;><code>youtube-dl</code></a> in the background.
Looking around the web lots of people seemed to want this and most of them were banging their heads against a wall due to:</p>
<ul>
<li>A) bash quoting</li>
<li>B) backgrounding dying when their terminal closed</li>
<li>C) passing the argument (url in my case) to the function</li>
</ul>
<p>Here&amp;rsquo;s a simple function I whipped up that seems to &amp;lsquo;just works&amp;rsquo;™:</p>
<div class=&#34;highlight&#34;><pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2;&#34;><code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#ff79c6&#34;>function</span> yt
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#ff79c6&#34;>{</span>
</span></span><span style=&#34;display:flex;&#34;><span>  nohup youtube-dl <span style=&#34;color:#f1fa8c&#34;>&amp;#34;</span><span style=&#34;color:#8be9fd;font-style:italic&#34;>$1</span><span style=&#34;color:#f1fa8c&#34;>&amp;#34;</span> --no-progress 2&amp;gt;&amp;amp;<span style=&#34;color:#bd93f9&#34;>1</span> &amp;gt; youtube-dl-<span style=&#34;color:#f1fa8c&#34;>&amp;#34;</span><span style=&#34;color:#ff79c6&#34;>$(</span>date +%Y%m%d-%H%M%S<span style=&#34;color:#ff79c6&#34;>)</span><span style=&#34;color:#f1fa8c&#34;>&amp;#34;</span>.log &amp;amp;
</span></span><span style=&#34;display:flex;&#34;><span><span style=&#34;color:#ff79c6&#34;>}</span>
</span></span></code></pre></div>"><meta property="og:site_name" content="smcleod.net"><meta property="og:title" content="Run youtube-dl (or similar) in the background"><meta property="og:type" content="article"><meta property="article:author" content="Sam McLeod"><meta property="article:published_time" content="2018-07-30T08:52:00Z+0000"><meta property="article:tag" content="software"><meta property="article:tag" content="tech"><meta property="og:url" content="https://smcleod.net/2018/07/run-youtube-dl-or-similar-in-the-background/"><meta property="og:image" content="https://smcleod.net/2018/07/run-youtube-dl-or-similar-in-the-background//camera-background.jpg"><meta property="og:description" content="<p>I wanted an alias or function to use <a href=&#34;https://rg3.github.io/youtube-dl/&#34;><code>youtube-dl</code></a> in the background.
Looking around the web lots o"><meta name=twitter:card content="summary_large_image"><meta property="twitter:domain" content="mcleod.ne"><meta property="twitter:url" content="https://smcleod.net/2018/07/run-youtube-dl-or-similar-in-the-background/"><meta name=twitter:title content="Run youtube-dl (or similar) in the background"><meta name=twitter:image content="https://smcleod.net/2018/07/run-youtube-dl-or-similar-in-the-background//camera-background.jpg"><meta name=twitter:description content="<p>I wanted an alias or function to use <a href=&#34;https://rg3.github.io/youtube-dl/&#34;><code>youtube-dl</code></a> in the background.
Looking around the web lots o"><link rel=manifest href=../../../manifest/index.json></head><body><div id=baseContainer><header><div class=titleAndSearchContainer><div id=titleContainer><a class=unstyledLink href=../../../><img src=../../../logo.svg alt=Logo></a><div class=rightOfLogo><div class=titleAndHamburger><h1><a class=unstyledLink href=../../../>smcleod.net</a></h1></div><div id=wide_nav><nav><ul id=main-nav><li><a href=../../../>Home</a></li><li><a href=../../../posts>Posts</a></li><li><a href=https://smcleod.net/pages/about/>About</a></li><li><a href=https://smcleod.net/pages/links/>Links</a></li><li><a href=../../../tags>Tags</a></li><li><a href=../../../search>Search</a></li></ul></nav></div></div></div><div class=search><input id=searchbar type=text placeholder=Search>
<a class=nerdlink onclick=newSearch()>&#xf002;</a></div><script>function newSearch(){let e=searchbar.value.trim();if(!e)return;location.href=`/search?q=${e}`}searchbar.onkeyup=e=>{e.keyCode==13&&newSearch()}</script></div><div id=links><a rel=noreferrer target=_blank class=nerdlink href=../../../index.xml>&#xf09e;
<span>RSS</span></a>
<a rel=noreferrer target=_blank class=nerdlink href=https://github.com/sammcj>&#xf09b;
<span>Github</span></a>
<a rel=noreferrer target=_blank class=nerdlink href=https://twitter.com/s_mcleod>&#xf099;
<span>Twitter</span></a>
<a rel=noreferrer target=_blank class=nerdlink href=https://linkedin.com/in/sammcj>&#xf0e1;
<span>LinkedIn</span></a></div></header><div id=contentContainer><div id=content><main><article class="card single"><h1>Run youtube-dl (or similar) in the background</h1><p class=date><span title=Date></span>
2018-07-30</p><figure style=margin:0><img src=https://smcleod.net/2018/07/run-youtube-dl-or-similar-in-the-background//camera-background.jpg alt></figure><div><p>I wanted an alias or function to use <a href=https://rg3.github.io/youtube-dl/><code>youtube-dl</code></a> in the background.
Looking around the web lots of people seemed to want this and most of them were banging their heads against a wall due to:</p><ul><li>A) bash quoting</li><li>B) backgrounding dying when their terminal closed</li><li>C) passing the argument (url in my case) to the function</li></ul><p>Here&rsquo;s a simple function I whipped up that seems to &lsquo;just works&rsquo;™:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ff79c6>function</span> yt
</span></span><span style=display:flex><span><span style=color:#ff79c6>{</span>
</span></span><span style=display:flex><span>  nohup youtube-dl <span style=color:#f1fa8c>&#34;</span><span style=color:#8be9fd;font-style:italic>$1</span><span style=color:#f1fa8c>&#34;</span> --no-progress 2&gt;&amp;<span style=color:#bd93f9>1</span> &gt; youtube-dl-<span style=color:#f1fa8c>&#34;</span><span style=color:#ff79c6>$(</span>date +%Y%m%d-%H%M%S<span style=color:#ff79c6>)</span><span style=color:#f1fa8c>&#34;</span>.log &amp;
</span></span><span style=display:flex><span><span style=color:#ff79c6>}</span>
</span></span></code></pre></div><p>And if you don&rsquo;t want logs, simply send the output to <code>/dev/null</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ff79c6>function</span> yt
</span></span><span style=display:flex><span><span style=color:#ff79c6>{</span>
</span></span><span style=display:flex><span>  nohup youtube-dl <span style=color:#f1fa8c>&#34;</span><span style=color:#8be9fd;font-style:italic>$1</span><span style=color:#f1fa8c>&#34;</span> --no-progress 2&gt;&amp;<span style=color:#bd93f9>1</span> &gt; /dev/null &amp;
</span></span><span style=display:flex><span><span style=color:#ff79c6>}</span>
</span></span></code></pre></div><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>yt &#39;https://www.youtube.com/watch?v<span style=color:#ff79c6>=</span>fK0qwngdNgw<span style=color:#f1fa8c>`</span>
</span></span></code></pre></div><p>&mldr;and you can continue on with other work, queue up more downloads or even close the terminal session.</p><p>The resulting output looks as such:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>~ ls
</span></span><span style=display:flex><span>Jimmy Licks-fK0qwngdNgw.mp4
</span></span><span style=display:flex><span>youtube-dl-20180730-085025.log
</span></span></code></pre></div><p>The log file contains the usual <a href=https://rg3.github.io/youtube-dl/><code>youtube-dl</code></a> information:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span>~ cat youtube-dl-20180730-085025.log
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>youtube<span style=color:#ff79c6>]</span> fK0qwngdNgw: Downloading webpage
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>youtube<span style=color:#ff79c6>]</span> fK0qwngdNgw: Downloading video info webpage
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>youtube<span style=color:#ff79c6>]</span> fK0qwngdNgw: Downloading js player vflE6swsi
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>youtube<span style=color:#ff79c6>]</span> fK0qwngdNgw: Downloading MPD manifest
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>youtube<span style=color:#ff79c6>]</span> fK0qwngdNgw: Downloading MPD manifest
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>dashsegments<span style=color:#ff79c6>]</span> Total fragments: <span style=color:#bd93f9>8</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>download<span style=color:#ff79c6>]</span> Destination: Jimmy Licks-fK0qwngdNgw.f137.mp4
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>download<span style=color:#ff79c6>]</span> 100% of 15.84MiB in 00:10.04MiB/s ETA 00:0002:39
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>dashsegments<span style=color:#ff79c6>]</span> Total fragments: <span style=color:#bd93f9>5</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>download<span style=color:#ff79c6>]</span> Destination: Jimmy Licks-fK0qwngdNgw.f140.m4a
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>download<span style=color:#ff79c6>]</span> 100% of 564.58KiB in 00:01.31MiB/s ETA 00:00:12
</span></span><span style=display:flex><span><span style=color:#ff79c6>[</span>ffmpeg<span style=color:#ff79c6>]</span> Merging formats into <span style=color:#f1fa8c>&#34;Jimmy Licks-fK0qwngdNgw.mp4&#34;</span>
</span></span><span style=display:flex><span>Deleting original file Jimmy Licks-fK0qwngdNgw.f137.mp4 <span style=color:#ff79c6>(</span>pass -k to keep<span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>Deleting original file Jimmy Licks-fK0qwngdNgw.f140.m4a <span style=color:#ff79c6>(</span>pass -k to keep<span style=color:#ff79c6>)</span>
</span></span></code></pre></div></div></article><hr><p class=articleTagsContainer><span></span>
<strong>Tags:</strong>
<a class=buttonTag href=../../../tags/software>#software</a>
<a class=buttonTag href=../../../tags/tech>#tech</a></p><div class=relatedArticlesContainer><hr><h2>More posts like this</h2><div class=postlist><article class="card postlistitem"><div><h2><a href=https://smcleod.net/2022/10/making-work-visible-avoid-dms/>Making Work Visible - Avoid DMs</a></h2><p class=date><span title=Date></span>
2022-10-20
|
<span title=Tags></span>
<a href=../../../tags/communication>#communication</a>
<a href=../../../tags/culture>#culture</a>
<a href=../../../tags/tech>#tech</a>
<a href=../../../tags/work>#work</a></p><a class=unstyledLink href=https://smcleod.net/2022/10/making-work-visible-avoid-dms/><img src=https://smcleod.net/2022/10/making-work-visible-avoid-dms//dm-disruption.jpg alt></a><div class=articlePreview><p><h3 id=avoid-sending-dmspms-for-support-and-technical-questions>Avoid sending DMs/PMs for support and technical questions</h3><p>This is a blurb I usually add to the wiki pages of teams I work with, it&rsquo;s a simple reminder that we should avoid sending direct messages (or worse - calling) individuals for support and technical questions.</p><p>Instead, we should use the appropriate channels for the team. This is a simple way to make work visible, share knowledge, reduce context switching, avoid silos and share the support load.</p></p><p><a href=https://smcleod.net/2022/10/making-work-visible-avoid-dms/>Continue reading </a></p></div></div><hr></article><article class="card postlistitem"><div><h2><a href=https://smcleod.net/2022/10/the-best-of-2022-edition/>The Best Of - 2022 Edition</a></h2><p class=date><span title=Date></span>
2022-10-19
|
<span title=Tags></span>
<a href=../../../tags/bestof>#bestof</a>
<a href=../../../tags/software>#software</a></p><a class=unstyledLink href=https://smcleod.net/2022/10/the-best-of-2022-edition/><img src=https://smcleod.net/2022/10/the-best-of-2022-edition//tools.jpg alt></a><div class=articlePreview><p><p>Near the end of each year I note down a summary of the best apps I&rsquo;ve enjoyed using throughout the year, here&rsquo;s 2022.</p><p><em>See also <a href=https://smcleod.net/software/2022/05/16/firefox-addons-2022/>Firefox Addons - 2022</a></em></p><h2 id=the-best>The Best</h2><ul><li>MeetingBar (Meetings in your menubar) - <a href=https://github.com/leits/MeetingBar>Get MeetingBar</a></li><li>Reeder (RSS) - <a href=https://www.reederapp.com/>Get Reeder</a></li><li>Shottr (Better screenshots) - <a href=https://shottr.cc/>Get Shottr</a></li><li>Bumpr (Multi-browser rules for links) - <a href=https://www.getbumpr.com/>Get Bumper</a></li><li>Onyx (macOS customisation) - <a href=https://titanium-software.fr/en/onyx.html>Get OnyX</a></li><li>Brew (Package manager) - <a href=https://brew.sh/>Get Brew</a><ul><li>mas (Mac App Store manager for Brew) - <a href=https://github.com/mas-cli/mas>Get mas</a></li></ul></li><li>Little Snitch (Firewall) - <a href=https://obdev.at/products/littlesnitch>Get Little Snitch</a><ul><li>RadioSilence (Simple Firewall) - <a href=https://radiosilenceapp.com/>Get RadioSilence</a></li></ul></li><li>Pixelmator Pro (Image/Photo editor) - <a href=https://www.pixelmator.com/pro/>Get Pixelmator Pro</a></li><li>Keka (Archive/Compression tool) - <a href=https://www.keka.io/>Get Keka</a></li><li>LaunchControl (Frontend for launchd) - <a href=https://www.soma-zone.com/LaunchControl/>Get LaunchControl</a></li><li>Peek (Quicklook plugins) - <a href="https://apps.apple.com/au/app/peek-a-quick-look-extension/id1554235898?mt=12">Get Peek</a></li><li>MusicHarbor (Track new and upcoming music releases) - <a href=https://apps.apple.com/au/app/musicharbor-track-new-music/id1440405750>Get MusicHarbor</a></li><li>DaisyDisk (Disk usage inspector) - <a href=https://daisydiskapp.com/>Get DaisyDisk</a></li><li>Things (GTD/Notes/Lists app) - <a href=https://culturedcode.com/things/>Get Thing</a></li><li>BetterTouchTool (macOS automation and customisation) - <a href=https://folivora.ai/>Get BetterTouchTool</a></li><li>Parcel (Track parcels) - <a href=https://apps.apple.com/au/app/parcel/id375589283>Get Parcel</a></li><li>Backblaze (Backups) - <a href=https://www.backblaze.com/>Get Backblaze</a></li><li>MicroSnitch (Get notifications for active mic/webcam) - <a href=https://obdev.at/products/microsnitch/index.html>Get Micro Snitch</a></li><li>Handbrake (Transcode video files) - <a href=https://handbrake.fr/>Get Handbrake</a></li><li>Amphetamine (Keep you mac awake) - <a href="https://apps.apple.com/us/app/amphetamine/id937984704?mt=12">Get Amphetamine</a></li><li>Bear (Markdown/notes/web clipping) - <a href=https://bear.app/>Get Bear</a></li><li>Calibre (eBook management and conversation) - <a href=https://calibre-ebook.com/>Get Calibre</a></li><li>ImageOptim Beta (Image compression) - <a href=https://imageoptim.com/ImageOptim1.8.9a1.tar.bz2>Get ImageOptim</a><ul><li><em>Note: This is a beta version, but it&rsquo;s the only version that supports Apple Silicon natively, the author is working on <a href=https://github.com/ImageOptim/ImageOptim/issues/354>ImageOptim 2 - A complete rewrite</a></em>.</li></ul></li><li>Strongbox (Native password/secrets management) - <a href=https://strongboxsafe.com/>Get StrongBox</a><ul><li><em>Note: I will likely eventually replace 1Password with Strongbox, it&rsquo;s a native app (not Electron!), currently waiting on official browser extensions</em>.</li></ul></li><li>Stay (Window management) - <a href=https://cordlessdog.com/stay/>Get Stay</a></li><li>Firefox (Don&rsquo;t run a browser from an ad company) - <a href=https://www.mozilla.org/en-GB/firefox/new/>Get Firefox</a></li><li>Fastmail (Email) - <a href=https://www.fastmail.com>Get Fastmail</a></li><li>mu-repo (Run bulk commands across git repos) - <a href=https://fabioz.github.io/mu-repo/>Get mu-repo</a></li></ul><p>You can find all the applications I use, along with my shell config and plugins within the <a href=https://github.com/sammcj/zsh-bootstrap>BrewFile</a> which I use to bootstrap my macOS machines.</p><h2 id=the-worst>The Worst</h2><ul><li>💩 AWS CDK 💩</li><li>💩 1Password 8 💩</li><li>💩 Microsoft Teams 💩</li><li>💩 Microsoft Office365 💩</li></ul></p><p><a href=https://smcleod.net/2022/10/the-best-of-2022-edition/>Continue reading </a></p></div></div><hr></article></div></div></main><footer><hr><div class=footerColumns><ul class=notlist><li><strong>Links</strong></li><li><a target=_blank href=https://github.com/sammcj>Github | @sammcj</a></li><li><a target=_blank href=https://twitter.com/s_mcleod>Twitter | @s_mcleod</a></li><li><a target=_blank href=https://smcleod.net>This Website | smcleod.net</a></li></ul></div><p><small>2022 &copy; Sam McLeod</small></p><p><small></small></p></footer></div></div></div></body></html>