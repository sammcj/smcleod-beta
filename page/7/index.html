<!doctype html><html class=home lang=en-au><head><meta name=generator content="Hugo 0.104.3"><meta name=viewport content="width=device-width"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=7"><link href=https://smcleod.net/index.xml rel=alternate type=application/rss+xml title=smcleod.net><link href=https://smcleod.net/index.xml rel=feed type=application/rss+xml title=smcleod.net><link rel=icon href=../../favicon.png><link rel="shortcut icon" href=../../favicon.ico type=image/x-icon><link rel=apple-touch-icon href=../../apple-touch-icon.png><link rel=icon href=../../logo.svg type=image/svg+xml><title>smcleod.net</title><link href=../../symbols-nerd-font/symbols-nerd-font.css rel=stylesheet><link href=../../jetbrains-mono/jetbrains-mono.css rel=stylesheet><link type=text/css rel=stylesheet href=https://smcleod.net/css/styles.66349763506489d57ba916836ca1c45e0ac3f667fe4f2a152cf7619a81ad51a060782c6231e1a885e311c2fd9fdc72e95b340fbd9530152e367d478fe56978c5.css integrity="sha512-ZjSXY1BkidV7qRaDbKHEXgrD9mf+TyoVLPdhmoGtUaBgeCxiMeGoheMRwv2f3HLpWzQPvZUwFS42fUeP5Wl4xQ=="><link href=../../atkinson-hyperlegible/atkinson-hyperlegible.css rel=stylesheet><meta name=author content="Sam McLeod"><meta property="og:site_name" content="smcleod.net"><meta property="og:title" content="smcleod.net"><meta property="og:type" content="blog"><meta property="og:image" content="https://smcleod.net/icon512.png"><meta name=twitter:card content="summary_large_image"><meta property="twitter:domain" content="mcleod.ne"><meta property="twitter:url" content="https://smcleod.net/"><meta name=twitter:title content="smcleod.net"><meta name=twitter:image content="https://smcleod.net/icon512.png"><link rel=manifest href=../../manifest/index.json></head><body><div id=baseContainer><header class=jumbotronContainer><div class=titleAndSearchContainer><div id=titleContainer><a class=unstyledLink href=../../><img src=../../logo.svg alt=Logo></a><div class=rightOfLogo><div class=titleAndHamburger><h1><a class=unstyledLink href=../../>smcleod.net</a></h1></div><div id=wide_nav><nav><ul id=main-nav><li><a href=../../>Home</a></li><li><a href=../../posts>Posts</a></li><li><a href=https://smcleod.net/pages/about/>About</a></li><li><a href=https://smcleod.net/pages/links/>Links</a></li><li><a href=../../tags>Tags</a></li></ul></nav></div></div></div><div class=search><input id=searchbar type=text placeholder=Search>
<a class=nerdlink onclick=newSearch()>&#xf002;</a></div><script>function newSearch(){let e=searchbar.value.trim();if(!e)return;location.href=`/search?q=${e}`}searchbar.onkeyup=e=>{e.keyCode==13&&newSearch()}</script></div><div id=links><a rel=noreferrer target=_blank class=nerdlink href=../../index.xml>&#xf09e;
<span>RSS</span></a>
<a rel=noreferrer target=_blank class=nerdlink href=https://github.com/sammcj>&#xf09b;
<span>Github</span></a>
<a rel=noreferrer target=_blank class=nerdlink href=https://twitter.com/s_mcleod>&#xf099;
<span>Twitter</span></a>
<a rel=noreferrer target=_blank class=nerdlink href=https://linkedin.com/in/sammcj>&#xf0e1;
<span>LinkedIn</span></a></div></header><div id=contentContainer><div id=content><main><div class=postlist id=postlist><article class="card postlistitem"><div><h2><a href=https://smcleod.net/2016/01/askizzy/>AskIzzy</a></h2><p class=date><span title=Date></span>
2016-01-29
|
<span title=Tags></span>
<a href=../../tags/career>#career</a>
<a href=../../tags/tech>#tech</a></p><a class=unstyledLink href=https://smcleod.net/2016/01/askizzy/><img src=https://smcleod.net/2016/01/askizzy//melbourne.jpg alt></a><div class=articlePreview><p><h2 id=today-we-launched-a-mobile-website-for-homeless-people>Today we launched a mobile website for homeless people</h2><p></p><p>&mldr; and it was launched by <a href="http://www.heraldsun.com.au/news/victoria/askizzy-app-connects-the-homeless-to-food-shelter-and-health-services/news-story/bfae67275552be421af4dd54bfd575a6?nk=ebd042d1d2789514c4e8553cb5633711-1454053888">Australia&rsquo;s Prime Minister</a></p><h4 id=today-we-served-up-over-87000-requests-to-the-site-and-its-only-in-its-first-stage-of-inception>Today we served up over 87,000 requests to the site and it&rsquo;s only in it&rsquo;s first stage of inception</h4><p>As many of you know, I work with <a href=https://infoxchange.org>Infoxchange</a> as the operations lead.
When I first heard the idea of a website or app for people that have found or are worried about finding themselves homeless in Australia I really didn&rsquo;t think it made sense - until I saw the stats showing how many homeless people in Australia have regular access to a smart phone and data either via a cellular provider or free WiFi.</p><p>We did a lot of research, working with homeless and at-risk people throughout Australia, it&rsquo;s really been quite an eye opener especially for my team who are largely technically focused.</p><p>AskIzzy is the result of Infoxchange winning the Google Impact Challenge in 2015. For me the most interesting things about the site other than it&rsquo;s value to those in need is that it didn&rsquo;t cost tax payers a cent to develop or host and it has no model for making profit of any kind, this resulted in the site being designed truly for the end consumer - the person in need.</p></p><p><a href=https://smcleod.net/2016/01/askizzy/>Continue reading </a></p></div></div><hr></article><article class="card postlistitem"><div><h2><a href=https://smcleod.net/2016/01/fix-xenserver-sr-with-corrupt-or-invalid-metadata/>Fix XenServer SR with corrupt or invalid metadata</a></h2><p class=date><span title=Date></span>
2016-01-18
|
<span title=Tags></span>
<a href=../../tags/storage>#storage</a>
<a href=../../tags/tech>#tech</a></p><a class=unstyledLink href=https://smcleod.net/2016/01/fix-xenserver-sr-with-corrupt-or-invalid-metadata/><img src=https://smcleod.net/2016/01/fix-xenserver-sr-with-corrupt-or-invalid-metadata//samuel-zeller-358865.jpg alt></a><div class=articlePreview><p><p>If a disk / VDI is orphaned or only partially deleted you&rsquo;ll notice that under the SR it&rsquo;s not assigned to any VM.</p><p>This can cause issues that look like metadata corruption resulting in the inability to migrate VMs or edit storage.</p><p>For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#ff79c6>[</span>root@xenserver-host ~<span style=color:#ff79c6>]</span><span style=color:#6272a4># xe vdi-destroy uuid=6c2cd848-ac0e-441c-9cd6-9865fca7fe8b</span>
</span></span><span style=display:flex><span>Error code: SR_BACKEND_FAILURE_181
</span></span><span style=display:flex><span>Error parameters: , Error in Metadata volume operation <span style=color:#ff79c6>for</span> SR. <span style=color:#ff79c6>[</span><span style=color:#8be9fd;font-style:italic>opterr</span><span style=color:#ff79c6>=</span>VDI delete operation failed <span style=color:#ff79c6>for</span> parameters:
</span></span><span style=display:flex><span>  /dev/VG_XenStorage-3ae1df17-06ee-7202-eb92-72c266134e16/MGT, 6c2cd848-ac0e-441c-9cd6-9865fca7fe8b.
</span></span><span style=display:flex><span>  Error: Failed to write file with params <span style=color:#ff79c6>[</span>3, 0, 512, 512<span style=color:#ff79c6>]</span>. Error: 5<span style=color:#ff79c6>]</span>,
</span></span></code></pre></div></p><p><a href=https://smcleod.net/2016/01/fix-xenserver-sr-with-corrupt-or-invalid-metadata/>Continue reading </a></p></div></div><hr></article><article class="card postlistitem"><div><h2><a href=https://smcleod.net/2015/12/iscsi-scsi-id-/-serial-persistence/>iSCSI SCSI-ID / Serial Persistence</a></h2><p class=date><span title=Date></span>
2015-12-14
|
<span title=Tags></span>
<a href=../../tags/storage>#storage</a>
<a href=../../tags/tech>#tech</a></p><a class=unstyledLink href=https://smcleod.net/2015/12/iscsi-scsi-id-/-serial-persistence/><img src=https://smcleod.net/2015/12/iscsi-scsi-id-/-serial-persistence//feature-san-fran.jpg alt></a><div class=articlePreview><p><p><em><strong>&ldquo;Having a SCSI ID is a f*cking idiotic thing to do.&rdquo;</strong></em></p><p><a href=http://yarchive.net/comp/linux/scsi_ids.html>- Linus Torvalds</a></p><p><em>&mldr;and after the amount of time I&rsquo;ve wasted getting XenServer to play nicely with LIO iSCSI failover I tend to agree.</em></p><hr><h2 id=the-problem>The Problem</h2><p>![]({{ site.url }}/img/san/sr_fail.jpg)</p><p>One oddity of Xen / XenServer&rsquo;s storage subsystem is that it identifies iSCSI storage repositories via a calculated SCSI ID rather than the iSCSI Serial - which would be the sane thing to do.</p><p>Citrix&rsquo;s less than ideal take on dealing with SCSI ID changes is for you to take your VMs offline, disconnected the storage repositories, recreate them, then go through all your VMs and re-attach their orphaned disks hoping that you remembered to add some sort of hint as to what VM they belong to, then finally wipe the sweat and tears from your face.</p><p>From <a href=https://support.citrix.com/article/CTX118641>CTX11641</a> - &lsquo;How to Identify If SCSI Storage Repository has Changed SCSI IDs&rsquo;:</p><blockquote><p>&ldquo;The SCSI ID of the logical unit number (LUN) changed. When this happened, the iSCSI storage repository became unplugged after a XenServer reboot.&rdquo;
&mldr;
&ldquo;To correct the issue you must recreate a PBD with the entry to reflect the right SCSI ID.&rdquo;</p></blockquote></p><p><a href=https://smcleod.net/2015/12/iscsi-scsi-id-/-serial-persistence/>Continue reading </a></p></div></div><hr></article><article class="card postlistitem"><div><h2><a href=https://smcleod.net/2015/11/how-to-cluster-and-failover-almost-anything-an-intro-to-pacemaker-and-corosync/>How to cluster and failover (almost) anything - An intro to Pacemaker and Corosync</a></h2><p class=date><span title=Date></span>
2015-11-09
|
<span title=Tags></span>
<a href=../../tags/clustering>#clustering</a>
<a href=../../tags/storage>#storage</a>
<a href=../../tags/tech>#tech</a></p><a class=unstyledLink href=https://smcleod.net/2015/11/how-to-cluster-and-failover-almost-anything-an-intro-to-pacemaker-and-corosync/><img src=https://smcleod.net/2015/11/how-to-cluster-and-failover-almost-anything-an-intro-to-pacemaker-and-corosync//tim-napier-181584.jpg alt></a><div class=articlePreview><p><ul><li><strong>Slides:</strong></li></ul><p><a href="https://www.dropbox.com/s/n3g3nk9kp6q54h8/cluster_anything.pdf?dl=0">![Click to Start Slides]({{ site.url }}/img/san/cluster_anything_screenshot.jpg)</a></p></p><p><a href=https://smcleod.net/2015/11/how-to-cluster-and-failover-almost-anything-an-intro-to-pacemaker-and-corosync/>Continue reading </a></p></div></div><hr></article><article class="card postlistitem"><div><h2><a href=https://smcleod.net/2015/10/san-intro-talk/>SAN Intro (Talk)</a></h2><p class=date><span title=Date></span>
2015-10-07
|
<span title=Tags></span>
<a href=../../tags/clustering>#clustering</a>
<a href=../../tags/hardware>#hardware</a>
<a href=../../tags/slides>#slides</a>
<a href=../../tags/storage>#storage</a>
<a href=../../tags/talk>#talk</a>
<a href=../../tags/tech>#tech</a></p><a class=unstyledLink href=https://smcleod.net/2015/10/san-intro-talk/><img src=https://smcleod.net/2015/10/san-intro-talk//elliot-sloman-199291.jpg alt></a><div class=articlePreview><p></p><p><a href=https://smcleod.net/2015/10/san-intro-talk/>Continue reading </a></p></div></div><hr></article><article class="card postlistitem"><div><h2><a href=https://smcleod.net/2015/09/replacing-junos-pulse-with-openconnect/>Replacing Junos Pulse with OpenConnect</a></h2><p class=date><span title=Date></span>
2015-09-22
|
<span title=Tags></span>
<a href=../../tags/networking>#networking</a>
<a href=../../tags/tech>#tech</a></p><a class=unstyledLink href=https://smcleod.net/2015/09/replacing-junos-pulse-with-openconnect/><img src=https://smcleod.net/2015/09/replacing-junos-pulse-with-openconnect//backdrop-zbuildings.jpg alt></a><div class=articlePreview><p><p>In an attempt to avoid using the Juniper Pulse (Now Pulse Secure) VPN client we tried OpenConnect but found that DNS did not work correctly when connected to the VPN.
This bug has now been resolved recently but has not made it&rsquo;s way into a new build, in fact there have been no releases for 6 months.</p><p>Luckily the OpenConnect was not too difficult to build from source.</p></p><p><a href=https://smcleod.net/2015/09/replacing-junos-pulse-with-openconnect/>Continue reading </a></p></div></div><hr></article></div><div id=getNextBtnContainer></div><div id=pageNavigation><a href=../../page/6/ title='Previous page'>&lt;&lt;&lt;</a>
<a href=../../>1</a>
<a href=../../page/2/>2</a>
<a href=../../page/3/>3</a>
<a href=../../page/4/>4</a>
<a href=../../page/5/>5</a>
<a href=../../page/6/>6</a>
<span>[7]</span>
<a href=../../page/8/>8</a>
<a href=../../page/9/>9</a>
<a href=../../page/10/>10</a>
<a href=../../page/11/>11</a>
<a href=../../page/8/ title='Next page'>>>></a></div></main><footer><hr><div class=footerColumns><ul class=notlist><li><strong>Links</strong></li><li><a target=_blank href=https://github.com/sammcj>Github | @sammcj</a></li><li><a target=_blank href=https://twitter.com/s_mcleod>Twitter | @s_mcleod</a></li><li><a target=_blank href=https://smcleod.net>This Website | smcleod.net</a></li></ul></div><p><small>2022 &copy; Sam McLeod</small></p><p><small></small></p></footer></div></div></div></body></html>